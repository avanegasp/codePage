<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>prueba</title>
  </head>
  <script src="lib/codemirror.js"></script>
  <link rel="stylesheet" href="lib/codemirror.css">
  <link rel="stylesheet" href="theme/dracula.css">
  <script src="javascript/javascript.js"></script>
  <body>

    <button type="button" id="btnEnviar" name="button">ENVIAR</button>

    <script src="https://www.gstatic.com/firebasejs/4.1.5/firebase.js"></script>
    <script>

    // Initialize Firebase
    var config = {
    apiKey: "AIzaSyCds4PRttfusMEN2W_5x9p4ScJNiwYLUbU",
    authDomain: "codepage-44c4d.firebaseapp.com",
    databaseURL: "https://codepage-44c4d.firebaseio.com",
    projectId: "codepage-44c4d",
    storageBucket: "",
    messagingSenderId: "102654248020"
    };

    firebase.initializeApp(config);

    var myCodeMirror = CodeMirror(document.body, {
      value: "esta l√≠nea debe actualizarce",
      mode:  "javascript",
      theme:"dracula"
});


    myCodeMirror.on("change", function(content) {
      firebase.database().ref('codepage').set(content.getValue())
});

    firebase.database().ref('codepage')
    .on('value', function(snapshot){
      myCodeMirror.setValue(snapshot.val())
});


  function urlCode (content, uid){
  firebase.database().ref('codepads').push({
    content: content,
    uid : uid
  });
}

  firebase.database().ref('codepads').on('child_added', function(data){
    console.log("ha ingresado a la sala " + data.val().content + data.val().uid)
  })


















// function factorial (n){
//  var resultado = 1;
//   if(i=1; i<=n; i++){
//     resultado = resultado * i
//   }
//   return resultado
// }



  </script>



  </body>
</html>
